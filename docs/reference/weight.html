<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculating Weights from AIM Sample Designs — weight â€¢ aim.analysis</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">aim.analysis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/analysis.html">A Basic Analysis Workflow For AIM</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculating Weights from AIM Sample Designs</h1>
    </div>

    
    <p>This function takes the output from the function <code><a href='read.dd.html'>read.dd()</a></code> and optionally a SpatialPolygonsDataFrame defining the extent of reporting units. Returns a list of two data frames: strata.weights with the weighting information by stratum and point.weights with the weighting information by point.</p>
    

    <pre class="usage"><span class='fu'>weight</span>(<span class='no'>dd.import</span>, <span class='kw'>combine</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>reorder</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>erase</span> <span class='kw'>=</span> <span class='st'>"arcpy"</span>,
  <span class='kw'>temp.path</span> <span class='kw'>=</span> <span class='fu'>getwd</span>(), <span class='kw'>reporting.units.spdf</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>reportingunitfield</span> <span class='kw'>=</span> <span class='st'>"REPORTING.UNIT"</span>, <span class='kw'>target.values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>unknown.values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nontarget.values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>inaccessible.values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>unneeded.values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>daterange.max</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>daterange.min</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>fatefieldname</span> <span class='kw'>=</span> <span class='st'>"final_desig"</span>, <span class='kw'>pointstratumfieldname</span> <span class='kw'>=</span> <span class='st'>"dsgn_strtm_nm"</span>,
  <span class='kw'>designstratumfield</span> <span class='kw'>=</span> <span class='st'>"dmnnt_strtm"</span>,
  <span class='kw'>projection</span> <span class='kw'>=</span> <span class='kw pkg'>sp</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/sp/topics/CRS-class'>CRS</a></span>(<span class='st'>"+proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0"</span>),
  <span class='kw'>sliverdrop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>sliverwarn</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>sliverthreshold</span> <span class='kw'>=</span> <span class='fl'>0.01</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dd.import</th>
      <td><p>Output from <code><a href='read.dd.html'>read.dd()</a></code>. This can be the result of running <code><a href='read.dd.html'>read.dd()</a></code> on one or many sample design databases</p></td>
    </tr>
    <tr>
      <th>combine</th>
      <td><p>Logical. If provided multiple DDs, should those be combined as part of the weighting calculations? Otherwise the weights will be calculated on a per-DD basis. Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>reorder</th>
      <td><p>Logical. If provided multiple DDs, should those be reordered to reflect ascending area? If <code>FALSE</code>, the DDs are considered in the order they appear in dd.import. If combine is <code>FALSE</code>, then this only potentially affects the order of the output information. Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>erase</th>
      <td><p>Optional character string. If <code>combine</code> is <code>TRUE</code> this must either be <code>"arcpy"</code> or <code>"rgeos"</code> and determines which approach will be used to frames from one another if <code>combine</code> is <code>TRUE</code>. If <code>"arcpy"</code> is used, then R must have write permissions to the folder <code>temp.path</code> and a valid install of ArcPy. This is preferable to <code>"rgeos"</code> because the functions involved tend to crash at random when handling very small remainder geometries. Defaults to <code>"arcpy"</code>.</p></td>
    </tr>
    <tr>
      <th>temp.path</th>
      <td><p>Optional character string. If <code>combine</code> is <code>TRUE</code> and <code>erase</code> is <code>"arcpy"</code> this must be the path to a folder that R has write permissions to so that a subfolder called arcpy_temp can be created and used for ArcPy erasure steps. Defulats to the current working directory.</p></td>
    </tr>
    <tr>
      <th>reporting.units.spdf</th>
      <td><p>SpatialPolygonsDataFrame. Optional reporting units polygons to restrict the sample designs to. If provided, weights will be calculated appropriately based on the intersection of this SPDF and the design[s] Defaults to <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>reportingunitfield</th>
      <td><p>Character string. If passing a reporting unit SPDF, what field in it defines the reporting unit[s]?</p></td>
    </tr>
    <tr>
      <th>target.values</th>
      <td><p>Character string or character vector. This defines what values in the point fate field count as target points. The function always looks for "Target Sampled" and "TS", so this argument is only necessary if there are additional values in the sample design databases. This is case insensitive.</p></td>
    </tr>
    <tr>
      <th>unknown.values</th>
      <td><p>Character string or character vector. This defines what values in the point fate field count as unknown points. The function always looks for "Unknown" and "Unk", so this argument is only necessary if there are additional values in the sample design databases. This is case insensitive.</p></td>
    </tr>
    <tr>
      <th>nontarget.values</th>
      <td><p>Character string or character vector. This defines what values in the point fate field count as non-target points. The function always looks for "Non-Target", "NT", and NA, so this argument is only necessary if there are additional values in the sample design databases. This is case insensitive.</p></td>
    </tr>
    <tr>
      <th>inaccessible.values</th>
      <td><p>Character string or character vector. This defines what values in the point fate field count as non-target points. The function always looks for "Inaccessible", so this argument is only necessary if there are additional values in the sample design databases. This is case insensitive.</p></td>
    </tr>
    <tr>
      <th>unneeded.values</th>
      <td><p>Character string or character vector. This defines what values in the point fate field count as not needed or unneeded points. The function always looks for "Not needed", so this argument is only necessary if there are additional values in the sample design databases. This is case insensitive.</p></td>
    </tr>
    <tr>
      <th>daterange.max</th>
      <td><p>Optional character string. This must be interpretable by <code><a href='http://www.rdocumentation.org/packages/lubridate/topics/as_date'>lubridate::as_date()</a></code>, e.g. <code>"2016-04-20"</code>. Only sampling locations visited before this date will be considered. Currently only restricts to year.</p></td>
    </tr>
    <tr>
      <th>daterange.min</th>
      <td><p>Optional character string. This must be interpretable by <code><a href='http://www.rdocumentation.org/packages/lubridate/topics/as_date'>lubridate::as_date()</a></code>, e.g. <code>"2016-04-20"</code>. Only sampling locations visited after this date will be considered. Currently only restricts to year.</p></td>
    </tr>
    <tr>
      <th>fatefieldname</th>
      <td><p>Character string defining the field name in the points SPDF[s] in dd.import that contains the point fate. Defaults to <code>"final_desig"</code>.</p></td>
    </tr>
    <tr>
      <th>pointstratumfieldname</th>
      <td><p>Character string defining the field name in the points SPDF[s] in dd.import that contains the design stratum. Defaults to <code>"dsgn_strtm_nm"</code>.</p></td>
    </tr>
    <tr>
      <th>designstratumfield</th>
      <td><p>Character string defining the field name in the strata SPDF[s] in dd.import that contains the design stratum. Defaults to <code>"dmnt_strtm"</code>.</p></td>
    </tr>
    <tr>
      <th>projection</th>
      <td><p>Character string <code><a href='http://www.rdocumentation.org/packages/sp/topics/CRS-class'>sp::CRS()</a></code> argument. Defaults to NAD83 with <code><a href='http://www.rdocumentation.org/packages/sp/topics/CRS-class'>sp::CRS("+proj=longlat +ellps=GRS80 +datum=NAD83 +no_defs")</a></code>. Is used to reproject all SPDFs in order to perform spatial manipulations.</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>weighter</span>()</div><div class='output co'>#&gt; <span class='error'>Error in weighter(): could not find function "weighter"</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Nelson G. Stauffer, Steve Garman, Jason Karl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
